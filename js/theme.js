function activateDarkMode(){document.documentElement.setAttribute("data-theme","dark"),document.getElementById("modeicon")&&document.getElementById("modeicon").setAttribute("xlink:href","#icon-sun"),saveToLocal.set("theme","dark",2)}function activateLightMode(){document.documentElement.setAttribute("data-theme","light"),document.getElementById("modeicon")&&document.getElementById("modeicon").setAttribute("xlink:href","#icon-moon"),saveToLocal.set("theme","light",2)}window.GLOBAL_CONFIG=window.GLOBAL_CONFIG||{},window.GLOBAL_CONFIG.Snackbar={day_to_night:"已切换至深色模式",night_to_day:"已切换至浅色模式"};const saveToLocal={get:function(e){try{return localStorage.getItem(e)}catch(e){return!1}},set:function(e,t,o){try{if(o){const t=new Date;t.setTime(t.getTime()+60*o*60*1e3),localStorage.setItem(e+"_exp",t.getTime().toString())}return localStorage.setItem(e,t),!0}catch(e){return!1}}};function initTheme(){const e=saveToLocal.get("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;e?"dark"===e?activateDarkMode():activateLightMode():t?activateDarkMode():activateLightMode()}window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener((function(e){saveToLocal.get("theme")||(e.matches?activateDarkMode():activateLightMode())})),document.addEventListener("DOMContentLoaded",initTheme);